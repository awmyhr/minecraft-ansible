[Unit]
Description=Namecheap Dynamic DNS
Documentation=Run at startup to update DDNS with public IP

Wants=network.target
After=network.target

[Service]
User=minecraft
Group=minecraft
Nice=5
EnvironmentFile=-/var/minecraft/unit.conf
KillMode=none
SuccessExitStatus=0 1

ProtectHome=true
ProtectSystem=full
PrivateDevices=true
NoNewPrivileges=true
PrivateTmp=true
InaccessibleDirectories=/root /sys /srv -/opt /media -/lost+found
ReadWriteDirectories={{ minecraft.server.directory }}
WorkingDirectory={{ minecraft.server.directory }}
ExecStart={{ minecraft.server.directory }}/namecheap.sh

[Install]
WantedBy=multi-user.target

